{% extends 'admin.html' %}

{% block content %}
{% if result %}
<div class="row">
  <div class="col-md-12">
    <div class="alert alert-{{ status }}" role="alert">{{ result }}</div>
  </div>
</div>
{% endif %}
<div class="row">
        <h1>Registro de Base de datos</h1>
        <hr>
  <div class="col-md-4">
    <form id="dbCreation" class="common-form" action="{% url 'databases_new' %}" method="post" accept-charset="UTF-8">
      {% csrf_token %}
      <div class="form-group">
        <label for="db_name">Nombre</label>
        <input type="text" class="form-control" id="db_name" name="db_name" placeholder="Nombre de la base de datos">
      </div>
      <label>Eliga un motor de base de datos</label>
      <div class="form-group">
        <select name="db_backend" form="dbCreation" class="form-control">
          <option value="sqlite" selected>SQLite</option>
          <option value="mysql">MySQL / MaríaDB</option>
          <option value="psql">PostgreSQL</option>
          <option value="mongo">MongoDB</option>
        </select>
      </div>
      <div class="form-group">
        <label for="db_host">Host</label>
        <input type="text" class="form-control" id="db_host" name="db_host" placeholder="Dirección IP del servidor de la base de datos.">
      </div>
  </div>
  <div class="col-md-4">
      <div class="form-group">
        <label for="db_port">Puerto</label>
        <input type="text" class="form-control" id="db_port" name="db_port" placeholder="Puerto del servidor de la base de datos.">
      </div>
      <div class="form-group">
        <label for="db_user">Usuario</label>
        <input type="text" class="form-control" id="db_user" name="db_user" placeholder="Usuario">
      </div>
      <div class="form-group">
        <label for="db_pass">Contraseña</label>
        <input type="password" class="form-control" id="db_pass" name="db_pass" placeholder="Password">
      </div>
      <input type="submit" class="btn btn-default btn-info" value="Registrar">
    </form>
  </div>
  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Últimas creaciones</h3>
      </div>
      <div class="panel-body">
        <ul>
          {% for db in db_list %}
          <li>{{ db }}</li>
          {% endfor %}
        </ul>
      </div>
    </div>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Notificaciones</h3>
        </div>
        <div class="panel-body">
            No hay notificaciones en este momento.
        </div>
      </div>
  </div>
</div>

<script>
  $(document).ready(function(){
    // Manejo de la lista de bases de datos.
    $(".list-group-item").click(function(event){
      $(".list-group-item").removeClass("active");
      $(this).addClass("active");
    });
  });
</script>
{% endblock %}
